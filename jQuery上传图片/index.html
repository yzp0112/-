<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title>jquery上传图片</title>
		<script src="../jquery-3.2.1.min.js"></script>
		<style type="text/css">
			ul li{
				float: left;
				list-style: none;
				padding-right: 10px;
			}
			img{
				width: 100px;
				height: 100px;
			}
		</style>
	</head>
	<body>
		<input type="file" name="file"/>
		<input type="button" name="btn" id="btn" value="添加" />
		<ul id="ul"></ul>
		<script type="text/javascript">
			$(function(){
				var oUl = $("#ul"),FR,source = $(":file");
				if(!!(FR = $(window).prop('FileReader'))){
					var fr = new FR();
					$("#btn").click(function(){
						var file = source.prop('files')[0];
						if(!file){
							return false;
						}
						var ali = $("<li></li>");
						var aimg = $("<img/>");
						oUl.append(ali);
						ali.append(aimg);
						var imgs = $("img");
						fr.onloadend = function(e){
							imgs.eq(imgs.length - 1).attr('src',e.target.result);
							source.val('');
						};
						fr.readAsDataURL(file);
					})
				}
			})
		</script>
	</body>
</html>
